{
    "class": "webWidget",
    "name": "Instant Search Results",
    "defaultsForOfferTemplate": {
        "description": "As you type search results with real-time filters and facets.",
        "releaseStage": "beta",
        "data": {
            "name": "Instant Search Results",
            "location": "autocomplete"
        }
    },
    "fields": [
        {
            "id": "searchAlgorithm",
            "name": "Persoo algorithm ID",
            "group": "options",
            "type": "text",
            "defaultValue": "persooProductsFulltextSearch"
        },
        {
            "id": "hideOnEmptyInput",
            "name": "Hide Search Results Container on empty input in Search Bar",
            "group": "options",
            "type": "checkbox",
            "defaultValue": false
        },
        {
            "id": "section_urlSync",
            "name": "URL Synchronization",
            "group": "options",
            "type": "section"
        },
        {
            "id": "urlSync",
            "name": "Write Seach State to URL Params",
            "group": "options",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "defaultValue": [ "query", "attribute:*", "page", "hitsPerPage"],
            "group": "options",
            "id": "urlSyncTrackedParameters",
            "name": "URL Tracked Parameters",
            "type": "json",
            "condition": {
                "fieldID": "urlSync",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "defaultValue": { "q": "query" },
            "group": "options",
            "id": "urlSyncMapping",
            "name": "URL Params Mapping (keys are original param names, values are new param names)",
            "type": "json",
            "condition": {
                "fieldID": "urlSync",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "defaultValue": 700,
            "group": "options",
            "id": "urlSyncThreshold",
            "name": "URL Sync Threshold (sync after so many milliseconds)",
            "type": "number",
            "condition": {
                "fieldID": "urlSync",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "defaultValue": false,
            "group": "options",
            "id": "urlSyncUseHash",
            "name": "URL Use Hash instead of Parameters",
            "type": "checkbox",
            "condition": {
                "fieldID": "urlSync",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "itemTemplate",
            "name": "Item Template",
            "group": "items",
            "type": "html",
            "defaultValue": "<a href=<%= link %>>\n    <img src=<%= imageLink %>>\n    <div class=\"persoo-result-item__title\" title=<%= description %>><%= title %></div>\n    <div class=\"persoo-result-item__price\"><%= price %> Kƒç</div>\n</a>"
        },
        {
            "id": "emptyResultsTemplate",
            "name": "Empty Results Template",
            "group": "items",
            "type": "html",
            "defaultValue": "<h2>Your query did not match any products.</h2>\n<p>Try somethink like</p>\n<ul>\n    <li>more general terms</li>\n    <li>check you spelling</li>\n    <li>remove some filters</li>\n</ul>"
        },

        {
            "id": "itemsPerPage",
            "name": "Items Per Page (default value)",
            "group": "pagination",
            "type": "number",
            "defaultValue": 6
        },
        {
            "id": "paginationType",
            "name": "Pagination Type",
            "group": "pagination",
            "type": "select",
            "options": [
                {
                    "label": "Pagination with Page Size Select",
                    "value": "pagination"
                },
                {
                    "label": "Infinite Items (with show more button)",
                    "value": "infiniteItems"
                },
                {
                    "label": "Do not show pagination",
                    "value": "none"
                }
            ],
            "defaultValue": "pagination"
        },
        {
            "id": "showMoreHitsLabel",
            "name": "'Show More Results' Label",
            "group": "pagination",
            "type": "text",
            "defaultValue": "Show more results",
            "condition": {
                "fieldID": "paginationType",
                "operator": "==",
                "fieldValue": "infiniteItems"
            }
        },
        {
            "id": "showItemsPerPage",
            "name": "Show \"Items Per Page\" Selector",
            "group": "pagination",
            "type": "checkbox",
            "defaultValue": true,
            "condition": {
                "fieldID": "paginationType",
                "operator": "==",
                "fieldValue": "pagination"
            }
        },
        {
            "id": "itemsPerPageValues",
            "name": "Items Per Page Values (comma separated values)",
            "group": "pagination",
            "type": "text",
            "defaultValue": "6, 12, 24",
            "condition": {
                "operator": "and",
                "children": [{
                    "fieldID": "paginationType",
                    "operator": "==",
                    "fieldValue": "pagination"
                },{
                    "fieldID": "showItemsPerPage",
                    "operator": "==",
                    "fieldValue": true
                }]
            }
        },
        {
            "id": "itemsPerPageSuffixTemplate",
            "name": "Suffix Template ",
            "group": "pagination",
            "type": "text",
            "defaultValue": " per page",
            "condition": {
                "operator": "and",
                "children": [{
                    "fieldID": "paginationType",
                    "operator": "==",
                    "fieldValue": "pagination"
                },{
                    "fieldID": "showItemsPerPage",
                    "operator": "==",
                    "fieldValue": true
                }]
            }
        },

        {
            "id": "showStats",
            "name": "Show Results Count",
            "group": "statistics",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "statsTemplate",
            "name": "Results Count Template (available variables: nbHits)",
            "group": "statistics",
            "type": "text",
            "defaultValue": "<%= nbHits %> results found"
        },

        {
            "id": "showHeader",
            "name": "Show Header",
            "group": "header",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "headerTemplate",
            "name": "Header Template (available variables: nbHits, page, query)",
            "group": "header",
            "type": "html",
            "defaultValue": "<% if (nbHits > 0) { %>\n    <h1>Search Results for \"<%= query %>\"</h1>\n<% } else { %>\n    <h1>Your query did not match any products</h1>\n<% } %>"
        },

        {
            "id": "showClearAll",
            "name": "Show Clear All Button",
            "group": "clearAll",
            "type": "checkbox",
            "defaultValue": false
        },

        {
            "id": "showCurrentRefinedValues",
            "name": "Show Selected Filters",
            "group": "currentRefinedValues",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "currentRefinedValuesHeaderTemplate",
            "name": "Header",
            "group": "currentRefinedValues",
            "type": "text",
            "defaultValue": "Selected Filters"
        },
        {
            "id": "currentRefinedValuesClearAllTemplate",
            "name": "Clear All Button Text",
            "group": "currentRefinedValues",
            "type": "text",
            "defaultValue": "Clear all"
        },

        {
            "id": "showFulltextFilter",
            "name": "Show Fulltext Filter",
            "group": "fulltextFilter",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "fulltextFilterPlaceholder",
            "name": "Placeholder text",
            "group": "fulltextFilter",
            "type": "text",
            "defaultValue": "Search for products..."
        },

        {
            "id": "showMenu",
            "name": "Show Menu",
            "group": "menu",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "menuHeaderTemplate",
            "name": "Header",
            "group": "menu",
            "type": "text",
            "defaultValue": "Menu Filter"
        },
        {
            "id": "menuAttributeName",
            "name": "Source Field",
            "group": "menu",
            "type": "text",
            "defaultValue": "productType"
        },
        {
            "id": "menuLimit",
            "name": "Limit",
            "group": "menu",
            "type": "number",
            "defaultValue": 10
        },
        {
            "id": "menuCollapsible",
            "name": "collapsible by click on box header",
            "group": "menu",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "menuCollapsed",
            "name": "collapsed by default",
            "group": "menu",
            "type": "checkbox",
            "defaultValue": false,
            "condition": {
                "fieldID": "menuCollapsible",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "showHierarchicalMenu",
            "name": "Show Hierarchical Menu",
            "group": "hierarchicalMenu",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "hierarchicalMenuHeaderTemplate",
            "name": "Header",
            "group": "hierarchicalMenu",
            "type": "text",
            "defaultValue": "Hierarchical Menu Filter"
        },
        {
            "id": "hierarchicalMenuAttributeNames",
            "name": "Source Fields (comma separated)",
            "group": "hierarchicalMenu",
            "type": "text",
            "defaultValue": "category_level0, category_level1, category_level2"
        },
        {
            "id": "hierarchicalMenuLimit",
            "name": "Limit",
            "group": "hierarchicalMenu",
            "type": "number",
            "defaultValue": 10
        },
        {
            "id": "hierarchicalMenuCollapsible",
            "name": "collapsible by click on box header",
            "group": "hierarchicalMenu",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "hierarchicalMenuCollapsed",
            "name": "collapsed by default",
            "group": "hierarchicalMenu",
            "type": "checkbox",
            "defaultValue": false,
            "condition": {
                "fieldID": "hierarchicalMenuCollapsible",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "showRefinementList1",
            "name": "Show Refinement List",
            "group": "refinementList1",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList1HeaderTemplate",
            "name": "Header",
            "group": "refinementList1",
            "type": "text",
            "defaultValue": "Refinement List 1"
        },
        {
            "id": "refinementList1AttributeName",
            "name": "Source Field",
            "group": "refinementList1",
            "type": "text",
            "defaultValue": "brand"
        },
        {
            "id": "refinementList1Limit",
            "name": "Limit",
            "group": "refinementList1",
            "type": "number",
            "defaultValue": 10
        },
        {
            "id": "refinementList1ShowMore",
            "name": "Show More",
            "group": "refinementList1",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList1ShowMoreLimit",
            "name": "Limit with Show more",
            "group": "refinementList1",
            "type": "number",
            "defaultValue": 20,
            "condition": {
                "fieldID": "refinementList1ShowMore",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "id": "refinementList1Collapsible",
            "name": "collapsible by click on box header",
            "group": "refinementList1",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList1Collapsed",
            "name": "collapsed by default",
            "group": "refinementList1",
            "type": "checkbox",
            "defaultValue": false,
            "condition": {
                "fieldID": "refinementList1Collapsible",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "showRefinementList2",
            "name": "Show Refinement List",
            "group": "refinementList2",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList2HeaderTemplate",
            "name": "Header",
            "group": "refinementList2",
            "type": "text",
            "defaultValue": "Refinement List 2"
        },
        {
            "id": "refinementList2AttributeName",
            "name": "Source Field",
            "group": "refinementList2",
            "type": "text",
            "defaultValue": "gender"
        },
        {
            "id": "refinementList2Limit",
            "name": "Limit",
            "group": "refinementList2",
            "type": "number",
            "defaultValue": 5
        },
        {
            "id": "refinementList2ShowMore",
            "name": "Show More",
            "group": "refinementList2",
            "type": "checkbox",
            "defaultValue": false
        },
        {
            "id": "refinementList2ShowMoreLimit",
            "name": "Limit with Show more",
            "group": "refinementList2",
            "type": "number",
            "defaultValue": 10,
            "condition": {
                "fieldID": "refinementList2ShowMore",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "id": "refinementList2Collapsible",
            "name": "collapsible by click on box header",
            "group": "refinementList2",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList2Collapsed",
            "name": "collapsed by default",
            "group": "refinementList2",
            "type": "checkbox",
            "defaultValue": false,
            "condition": {
                "fieldID": "refinementList2Collapsible",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "showRefinementList3",
            "name": "Show Refinement List",
            "group": "refinementList3",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList3HeaderTemplate",
            "name": "Header",
            "group": "refinementList3",
            "type": "text",
            "defaultValue": "Refinement List 3"
        },
        {
            "id": "refinementList3AttributeName",
            "name": "Source Field",
            "group": "refinementList3",
            "type": "text",
            "defaultValue": "available"
        },
        {
            "id": "refinementList3Limit",
            "name": "Limit",
            "group": "refinementList3",
            "type": "number",
            "defaultValue": 5
        },
        {
            "id": "refinementList3ShowMore",
            "name": "Show More",
            "group": "refinementList3",
            "type": "checkbox",
            "defaultValue": false
        },
        {
            "id": "refinementList3ShowMoreLimit",
            "name": "Limit with Show more",
            "group": "refinementList3",
            "type": "number",
            "defaultValue": 10,
            "condition": {
                "fieldID": "refinementList3ShowMore",
                "operator": "==",
                "fieldValue": true
            }
        },
        {
            "id": "refinementList3Collapsible",
            "name": "collapsible by click on box header",
            "group": "refinementList3",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "refinementList3Collapsed",
            "name": "collapsed by default",
            "group": "refinementList3",
            "type": "checkbox",
            "defaultValue": false,
            "condition": {
                "fieldID": "refinementList3Collapsible",
                "operator": "==",
                "fieldValue": true
            }
        },

        {
            "id": "layoutHTML",
            "name": "Layout HTML Template (elements marked as 'persoo-container' will be replaced by Dynamic widgets loaded by javascript libraty in browser)",
            "group": "design",
            "type": "html",
            "defaultValue": "To be filled from default values."
        },
        {
            "id": "widgetContainerSelectors",
            "name": "Custom Selectors for Dynamic Widgets (each dynamic widget will replace DOW element with given selector)",
            "group": "design",
            "type": "json",
            "defaultValue": {
                "searchResults": "#persoo-search-results",
                "originalPageContent": "#your-main-content-selector",
                "searchBar": "#persoo-search-bar",
                "fulltextFilter": "#persoo-search-bar__search-box",
                "items": "#persoo-items",
                "currentRefinedValues": "#persoo-current-refined-values",
                "menu": "#persoo-menu",
                "hierarchicalMenu": "#persoo-hierarchical-menu",
                "refinementList1": "#persoo-refinementList--1",
                "refinementList2": "#persoo-refinementList--2",
                "refinementList3": "#persoo-refinementList--3",
                "clearAll": "#persoo-clear-all",
                "stats": "#persoo-stats",
                "header": "#persoo-header",
                "pagination": "#persoo-pagination",
                "itemsPerPage": "#persoo-items-per-page"
            }
        },
        {
            "id": "searchBarHTML",
            "name": "Search Bar HTML Template",
            "group": "fulltextFilter",
            "type": "html",
            "defaultValue": "To be filled from default values."
        },
        {
            "id": "showMoreInactiveTemplate",
            "name": "\"Show More\" Button (when inactive)",
            "group": "design",
            "type": "html",
            "defaultValue": "Show more"
        },
        {
            "id": "showMoreActiveTemplate",
            "name": "\"Show More\" Button (when active)",
            "group": "design",
            "type": "html",
            "defaultValue": "Show less"
        },
        {
            "id": "customCSS",
            "name": "Custom CSS",
            "group": "design",
            "type": "css",
            "defaultValue": "/* your own css rules */"
        },
        {
            "id": "customClassNamesJSON",
            "name": "Custom Class Names for Dynamic Widgets (i.e. to add custom class to Result Item, find its default class in browser, which is '.ais-hits--item' and add custom clasa below to path 'hits.item')",
            "group": "design",
            "type": "json",
            "defaultValue": {
                "hits": {
                    "root": "persoo-results",
                    "empty": "",
                    "item": "persoo-result-item"
                },
                "infiniteHits": {
                    "root": "persoo-results",
                    "empty": "",
                    "item": "persoo-result-item",
                    "showmore": ""
                },
                "hitsPerPageSelector": {
                    "root": "",
                    "item": ""
                },
                "pagination": {
                    "root": "",
                    "item": "",
                    "link": "",
                    "page": "",
                    "previous": "",
                    "next": "",
                    "first": "",
                    "last": "",
                    "active": "",
                    "disabled": ""
                },
                "searchBox": {
                    "root": "",
                    "input": ""
                },
                "stats": {
                    "root": "",
                    "header": "",
                    "body": "",
                    "footer": ""
                },
                "header": {
                    "root": ""
                },
                "clearAll": {
                    "root": "",
                    "header": "",
                    "body": "",
                    "link": "",
                    "footer": ""
                },
                "currentRefinedValues": {
                    "root": "facet",
                    "header": "",
                    "body": "",
                    "clearAll": "",
                    "list": "",
                    "item": "",
                    "link": "",
                    "count": "facet-count",
                    "footer": ""
                },
                "menu": {
                    "root": "facet",
                    "header": "",
                    "body": "",
                    "footer": "",
                    "list": "",
                    "item": "",
                    "active": "",
                    "link": "",
                    "count": "facet-count"
                },
                "hierarchicalMenu": {
                    "root": "facet",
                    "header": "",
                    "body": "",
                    "footer": "",
                    "list": "",
                    "item": "",
                    "depth": "",
                    "active": "",
                    "link": "",
                    "count": "facet-count"
                },
                "refinementList": {
                    "root": "facet",
                    "header": "",
                    "body": "",
                    "footer": "",
                    "clearAll": "",
                    "list": "",
                    "item": "",
                    "active": "",
                    "label": "",
                    "checkbox": "",
                    "count": "facet-count"
                }
            }
        },
        {
            "id": "customJS",
            "name": "Custom Javascript",
            "group": "design",
            "type": "javascript",
            "defaultValue": "/* your own javascript */"
        },
        {
            "id": "analyticsPushFunction",
            "name": "Push Function (called only when query and filters had changed)",
            "group": "analytics",
            "type": "javascript",
            "defaultValue": "function push(formattedParameters, state, results) {\n    // Google Analytics\n    // window.ga('set', 'page', '/search/query/?query=' + state.query + '&' + formattedParameters + '&numberOfHits=' + results.nbHits);\n    // window.ga('send', 'pageView');\n    \n    // GTM\n    // dataLayer.push({\n    //     'event': 'search',\n    //     'Search Query': state.query,\n    //     'Facet Parameters': formattedParameters,\n    //     'Number of Hits': results.nbHits\n    // });\n    \n    // any other analytics service\n}"
        },
        {
            "id": "analyticsPushInitialSearch",
            "name": "Push Initial Search (i.e. after landing on search results page)",
            "group": "analytics",
            "type": "checkbox",
            "defaultValue": true
        },
        {
            "id": "analyticsTriggerOnUIInteraction",
            "name": "Trigger Push Function on any click in a page",
            "group": "analytics",
            "type": "checkbox",
            "defaultValue": false
        },
        {
            "id": "analyticsTriggerDelay",
            "name": "Delay in ms between last key stroke and following Push Function call",
            "group": "analytics",
            "type": "number",
            "defaultValue": 3000
        }
    ],
    "groups": [
        {
            "id": "items",
            "name": "Search Results (Product Items)"
        },
        {
            "id": "fulltextFilter",
            "name": "Fulltext Filter"
        },
        {
            "id": "currentRefinedValues",
            "name": "Selected Filters"
        },
        {
            "id": "menu",
            "name": "Menu Filter (Categories)"
        },
        {
            "id": "hierarchicalMenu",
            "name": "Hierarchical Menu Filter (Categories)"
        },
        {
            "id": "refinementList1",
            "name": "Refinement List Filter 1"
        },
        {
            "id": "refinementList2",
            "name": "Refinement List Filter 2"
        },
        {
            "id": "refinementList3",
            "name": "Refinement List Filter 3"
        },
        {
            "id": "clearAll",
            "name": "Clear All Button"
        },
        {
            "id": "statistics",
            "name": "Found Results Count"
        },
        {
            "id": "header",
            "name": "Header"
        },
        {
            "id": "pagination",
            "name": "Page Size & Pagination/Infinite scroll"
        },
        {
            "id": "options",
            "name": "Algorithm & Options"
        },
        {
            "id": "design",
            "name": "Layout, HTML & CSS Styles"
        },
        {
            "id": "analytics",
            "name": "Analytics"
        }
    ],
    "template": "Note: this will be replaced by content of template.html",
    "minScenariosCount": 0
}
